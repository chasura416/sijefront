# SIJE 프론트 과제

## 개요
Payment 테이블 UI를 구현하는 프론트엔드 과제입니다. 피그마와 제공된 Mock Data를 기반으로 화면을 완성했습니다.

Payment 화면에서 하나의 결제(payment)에 대해
여러 품목(consumption)이 어떻게 묶이고,
실제로 결제에 포함된 항목(paymentBreakdown)이 무엇인지
실무자가 한눈에 파악할 수 있도록 테이블 UI를 구현했습니다.

복잡한 데이터 관계를 화면에서 직관적으로 이해할 수 있도록
그룹핑, Sub Total, 필터링, 결제 포함 여부 표시를 중심으로 설계했습니다.

## 요구사항 체크리스트
- [x] React 사용
- [x] TypeScript 사용
- [x] consumptions를 salesOrder.id로 그룹핑
- [x] 그룹별 Sub Total(orderAmount 합계) 표시
- [x] Search 토글 버튼 구현
- [x] 토글 ON 시 검색 행(tr) 1줄 추가
- [x] 컬럼별 고유값 기반 필터 옵션 제공
- [x] 다중 컬럼 AND 조건 필터
- [x] payment / paymentBreakdowns / consumptions 매핑이 식별 가능하도록 표시
- [x] 테이블 UI 라이브러리 미사용
  

  ※ 각 항목은 단순 기능 구현이 아니라,
실제 결제 관리 화면에서의 사용성을 기준으로 구현했습니다.

## 실행 방법
```
npm install
npm run dev
```

## 사용 버전
- Node.js: 18+ 권장
- npm: 9+ 권장

## 폴더 구조
```
src/
  components/      # UI 컴포넌트
  data/            # Mock 데이터
  hooks/           # 상태/데이터 파이프라인 훅
  types/           # 타입 정의
  utils/           # 그룹핑/유니크 유틸
```

## 주요 설계 의도와 트레이드오프
- 데이터 파이프라인(필터 → 그룹 → Sub Total)을 `usePaymentView`에 모아서 화면 로직을 단순화했다. 다만 훅이 커지는 단점이 있어 이후 분리할 수 있다.
- 필터 옵션은 mock 데이터의 고유값 집합을 즉시 계산해 단순화했다. 데이터가 커지면 메모이제이션 키를 정교화하거나 서버 필터로 전환이 필요하다.
- paymentBreakdown을 itemId 기반으로 묶어 매핑을 명확히 노출했다. 대신 테이블 셀의 밀도가 높아져 레이아웃 튜닝이 필요하다.


- 결제 화면에서는 필터, 그룹, 합계 계산이 함께 동작해야 하므로
  필터 → 그룹 → Sub Total 계산 흐름을 하나의 데이터 파이프라인으로 구성했다.
  이를 통해 화면 컴포넌트는 렌더링 책임에 집중하도록 했다.
  다만 훅의 책임이 커지는 단점이 있어, 실제 서비스 확장 시에는
  selector 단위로 분리 가능하도록 구조를 잡았다.

- 검색 필터는 실무자가 자주 사용하는 조건을 빠르게 선택할 수 있도록
  데이터 내 고유값 집합을 기준으로 제공했다.
  현재는 클라이언트 계산 방식이지만,
  데이터 규모가 커질 경우 서버 필터링으로 전환 가능한 구조다.

- paymentBreakdown과 consumption의 매핑은
  '이 품목이 이번 결제에 포함되었는지'를 즉시 식별하는 것이 중요하다고 판단해
  itemId 기준으로 매핑 정보를 미리 구성하고,
  테이블에서 시각적으로 구분해 표시했다.
  이로 인해 셀 정보가 다소 많아질 수 있으나,
  실무 가독성을 우선했다.
